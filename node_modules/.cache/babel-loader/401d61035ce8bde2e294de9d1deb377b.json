{"ast":null,"code":"import _slicedToArray from\"C:/Users/Shyam/Desktop/instaclone_final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{Link}from'react-router-dom';import M from'materialize-css';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var PostData=function PostData(){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){M.toast({html:\"Invalid email\",classes:\"#e91e63 pink\"});return;}fetch(\"/signin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.error){M.toast({html:data.error,classes:\"#ef9a9a red lighten-3\"});}else{localStorage.setItem(\"jwt\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));M.toast({html:\"signedin successfully\",classes:\"#e91e63 pink\"});navigate('/postview');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"mycard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Instaclone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-light\",onClick:function onClick(){return PostData();},children:\"Signin\"}),/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"signup\",children:\"Don't have an account?\"})})]})});};export default SignIn;","map":{"version":3,"names":["React","useState","Link","M","useNavigate","SignIn","navigate","password","setPassword","email","setEmail","PostData","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","localStorage","setItem","token","user","catch","err","e","target","value"],"sources":["C:/Users/Shyam/Desktop/instaclone_final/client/src/components/screens/SignIn.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst SignIn = () => {\r\n    const navigate = useNavigate();\r\n    const [password, setPassword] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n\r\n    const PostData = () => {\r\n        if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n            M.toast({ html: \"Invalid email\", classes: \"#e91e63 pink\" })\r\n            return\r\n        }\r\n        fetch(\"/signin\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res => res.json()).then(data => {\r\n            console.log(data)\r\n            if (data.error) {\r\n                M.toast({ html: data.error, classes: \"#ef9a9a red lighten-3\" })\r\n            } else {\r\n                localStorage.setItem(\"jwt\", data.token)\r\n                localStorage.setItem(\"user\", JSON.stringify(data.user))\r\n                M.toast({ html: \"signedin successfully\", classes: \"#e91e63 pink\" })\r\n                navigate('/postview')\r\n\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='mycard'>\r\n            <div className='card auth-card'>\r\n                <h2>Instaclone</h2>\r\n                <input type=\"text\" placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                <input type=\"password\" placeholder=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                <button className='btn waves-effect waves-light' onClick={() => PostData()}>Signin</button>\r\n                <h5>\r\n                    <Link to=\"signup\">Don't have an account?</Link>\r\n                </h5>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn;"],"mappings":"oIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,EAAP,KAAc,iBAAd,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAGA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACjB,GAAMC,SAAQ,CAAGF,WAAW,EAA5B,CACA,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,GAAI,CAAC,yJAAyJC,IAAzJ,CAA8JH,KAA9J,CAAL,CAA2K,CACvKN,CAAC,CAACU,KAAF,CAAQ,CAAEC,IAAI,CAAE,eAAR,CAAyBC,OAAO,CAAE,cAAlC,CAAR,EACA,OACH,CACDC,KAAK,CAAC,SAAD,CAAY,CACbC,MAAM,CAAE,MADK,CAEbC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFI,CAMbC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBZ,KAAK,CAALA,KADiB,CAEjBF,QAAQ,CAARA,QAFiB,CAAf,CANO,CAAZ,CAAL,CAUGe,IAVH,CAUQ,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAJ,EAAJ,EAVX,EAU2BF,IAV3B,CAUgC,SAAAG,IAAI,CAAI,CACpCC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAIA,IAAI,CAACG,KAAT,CAAgB,CACZzB,CAAC,CAACU,KAAF,CAAQ,CAAEC,IAAI,CAAEW,IAAI,CAACG,KAAb,CAAoBb,OAAO,CAAE,uBAA7B,CAAR,EACH,CAFD,IAEO,CACHc,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4BL,IAAI,CAACM,KAAjC,EACAF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BV,IAAI,CAACC,SAAL,CAAeI,IAAI,CAACO,IAApB,CAA7B,EACA7B,CAAC,CAACU,KAAF,CAAQ,CAAEC,IAAI,CAAE,uBAAR,CAAiCC,OAAO,CAAE,cAA1C,CAAR,EACAT,QAAQ,CAAC,WAAD,CAAR,CAEH,CACJ,CArBD,EAqBG2B,KArBH,CAqBS,SAAAC,GAAG,CAAI,CACZR,OAAO,CAACC,GAAR,CAAYO,GAAZ,EACH,CAvBD,EAwBH,CA7BD,CA+BA,mBACI,YAAK,SAAS,CAAC,QAAf,uBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,kCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,OAA/B,CAAuC,KAAK,CAAEzB,KAA9C,CAAqD,QAAQ,CAAE,kBAAC0B,CAAD,QAAOzB,SAAQ,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAA/D,EAFJ,cAGI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,KAAK,CAAE9B,QAArD,CAA+D,QAAQ,CAAE,kBAAC4B,CAAD,QAAO3B,YAAW,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAzE,EAHJ,cAII,eAAQ,SAAS,CAAC,8BAAlB,CAAiD,OAAO,CAAE,yBAAM1B,SAAQ,EAAd,EAA1D,oBAJJ,cAKI,iCACI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,oCADJ,EALJ,GADJ,EADJ,CAaH,CAjDD,CAmDA,cAAeN,OAAf"},"metadata":{},"sourceType":"module"}